#define memorydepth 2500
#include "/home/henrique/Dropbox/APC_Paris/Root/cold_box_analysis/class/MYCODES.h"

#include "TH1D.h"
#include "TVirtualFFT.h"
#include "TF1.h"
#include "TCanvas.h"
#include "TMath.h"


 
void testing_fft()
{
   
  TFile *fsphe = new TFile("few_pe_response.root","READ");
  TFile *fsphe2 = new TFile("few_pe_response1000.root","READ");
  TH1D *hsphe = (TH1D*)fsphe->Get("averaged_few_pe");
  TH1D *hsphe2 = (TH1D*)fsphe2->Get("averaged_few_pe");

  WIENER wpe("pe",4,250,1e-9,1e6,2500);
  WIENER wpe2("pe2",4,250,1e-9,1e6,1000);
  WIENER back("back");

  wpe.fft(hsphe);
  wpe2.fft(hsphe2);


  back.backfft(wpe);


  TCanvas *cfft = new TCanvas();

  wpe.hfft->Draw("");
  wpe2.hfft->Draw("SAME");

  TCanvas *cback = new TCanvas();
  back.hwvf->Draw();
  hsphe->SetLineColor(kRed);
  hsphe->Draw("same");

}
 
